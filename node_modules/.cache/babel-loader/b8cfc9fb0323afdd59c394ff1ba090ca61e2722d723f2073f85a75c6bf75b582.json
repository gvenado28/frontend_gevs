{"ast":null,"code":"var _jsxFileName = \"/home/ubuntu/front/src/components/PETCapture.js\",\n  _s = $RefreshSig$();\n// src/components/PETCapture.js\nimport React, { useState } from 'react';\nimport '../styles/PETStyles.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PETCapture = () => {\n  _s();\n  const [weight, setWeight] = useState('');\n  const [date, setDate] = useState('');\n  const [priceUSD, setPriceUSD] = useState('');\n  const [priceMXN, setPriceMXN] = useState('');\n  const [message, setMessage] = useState('');\n  const conversionRate = 18;\n  const ratePerKgUSD = 0.5;\n  const calculatePrices = weight => {\n    const priceInUSD = weight * ratePerKgUSD;\n    const priceInMXN = priceInUSD * conversionRate;\n    setPriceUSD(priceInUSD.toFixed(2));\n    setPriceMXN(priceInMXN.toFixed(2));\n  };\n  const handleWeightChange = event => {\n    const newWeight = event.target.value;\n    setWeight(newWeight);\n    calculatePrices(newWeight);\n  };\n  const handleSubmit = async event => {\n    event.preventDefault();\n    setMessage(''); // Reinicia el mensaje\n\n    try {\n      const token = localStorage.getItem('token');\n      if (!token) {\n        setMessage('Por favor, inicia sesi贸n para registrar capturas.');\n        return;\n      }\n      const response = await fetch('http://localhost:5000/api/pet/pet-capture', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          capture_date: date,\n          weight_kg: weight\n        })\n      });\n      if (response.ok) {\n        setMessage('Captura registrada exitosamente.');\n        setDate('');\n        setWeight('');\n        setPriceUSD('');\n        setPriceMXN('');\n      } else {\n        setMessage('Error al registrar la captura.');\n        console.error('Error al registrar captura:', await response.json());\n      }\n    } catch (error) {\n      setMessage('Error en la conexi贸n con el servidor.');\n      console.error('Error en la solicitud:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pet-capture\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Captura Semanal de PET\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Fecha de Captura:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: date,\n          onChange: e => setDate(e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Peso del PET (kg):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          min: \"0.1\",\n          step: \"0.1\",\n          value: weight,\n          onChange: handleWeightChange,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Precio Calculado (USD):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: priceUSD,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"Precio Calculado (MXN):\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: priceMXN,\n          readOnly: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Registrar Captura\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this), message && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 25\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 9\n  }, this);\n};\n_s(PETCapture, \"LeYiim0W5bejDekp8xtRjkmA2W4=\");\n_c = PETCapture;\nexport default PETCapture;\nvar _c;\n$RefreshReg$(_c, \"PETCapture\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","PETCapture","_s","weight","setWeight","date","setDate","priceUSD","setPriceUSD","priceMXN","setPriceMXN","message","setMessage","conversionRate","ratePerKgUSD","calculatePrices","priceInUSD","priceInMXN","toFixed","handleWeightChange","event","newWeight","target","value","handleSubmit","preventDefault","token","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","capture_date","weight_kg","ok","console","error","json","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","e","required","min","step","readOnly","_c","$RefreshReg$"],"sources":["/home/ubuntu/front/src/components/PETCapture.js"],"sourcesContent":["// src/components/PETCapture.js\nimport React, { useState } from 'react';\nimport '../styles/PETStyles.css';\n\nconst PETCapture = () => {\n    const [weight, setWeight] = useState('');\n    const [date, setDate] = useState('');\n    const [priceUSD, setPriceUSD] = useState('');\n    const [priceMXN, setPriceMXN] = useState('');\n    const [message, setMessage] = useState('');\n\n    const conversionRate = 18;\n    const ratePerKgUSD = 0.5;\n\n    const calculatePrices = (weight) => {\n        const priceInUSD = weight * ratePerKgUSD;\n        const priceInMXN = priceInUSD * conversionRate;\n        setPriceUSD(priceInUSD.toFixed(2));\n        setPriceMXN(priceInMXN.toFixed(2));\n    };\n\n    const handleWeightChange = (event) => {\n        const newWeight = event.target.value;\n        setWeight(newWeight);\n        calculatePrices(newWeight);\n    };\n\n    const handleSubmit = async (event) => {\n        event.preventDefault();\n        setMessage(''); // Reinicia el mensaje\n\n        try {\n            const token = localStorage.getItem('token');\n            if (!token) {\n                setMessage('Por favor, inicia sesi贸n para registrar capturas.');\n                return;\n            }\n\n            const response = await fetch('http://localhost:5000/api/pet/pet-capture', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${token}`,\n                },\n                body: JSON.stringify({\n                    capture_date: date,\n                    weight_kg: weight,\n                }),\n            });\n\n            if (response.ok) {\n                setMessage('Captura registrada exitosamente.');\n                setDate('');\n                setWeight('');\n                setPriceUSD('');\n                setPriceMXN('');\n            } else {\n                setMessage('Error al registrar la captura.');\n                console.error('Error al registrar captura:', await response.json());\n            }\n        } catch (error) {\n            setMessage('Error en la conexi贸n con el servidor.');\n            console.error('Error en la solicitud:', error);\n        }\n    };\n\n    return (\n        <div className=\"pet-capture\">\n            <h2>Captura Semanal de PET</h2>\n            <form onSubmit={handleSubmit}>\n                <label>\n                    Fecha de Captura:\n                    <input\n                        type=\"date\"\n                        value={date}\n                        onChange={(e) => setDate(e.target.value)}\n                        required\n                    />\n                </label>\n                <label>\n                    Peso del PET (kg):\n                    <input\n                        type=\"number\"\n                        min=\"0.1\"\n                        step=\"0.1\"\n                        value={weight}\n                        onChange={handleWeightChange}\n                        required\n                    />\n                </label>\n                <label>\n                    Precio Calculado (USD):\n                    <input type=\"text\" value={priceUSD} readOnly />\n                </label>\n                <label>\n                    Precio Calculado (MXN):\n                    <input type=\"text\" value={priceMXN} readOnly />\n                </label>\n                <button type=\"submit\">Registrar Captura</button>\n            </form>\n            {message && <p className=\"message\">{message}</p>}\n        </div>\n    );\n};\n\nexport default PETCapture;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}